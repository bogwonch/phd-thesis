\ProvidesPackage{phdthesis}

\newcommand{\ignore}[1]{}

% Use a package if it hasn't already been loaded
\newcommand{\includepackage}[2][]{\@ifpackageloaded{#2}{}{\usepackage[#1]{#2}}}

\includepackage{hanging}
\includepackage[dvipsnames]{xcolor}

\newcommand{\new}[1]{{\color{BrickRed} #1}}

% Formatting commands
\newcommand{\todo}[1]{{\Large\sffamily\color{BrickRed} #1}}
\newenvironment{todolist}{%
  \begin{minipage}{\textwidth}
    \Large\sffamily\color{BrickRed}
    \begin{itemize}
    }{%
    \end{itemize}
  \end{minipage}
}

\includepackage{acronym}
\acrodef{AC}{assertion context}
\acrodef{AV}{anti-virus}
\acrodef{IAP}{in-app-purchase}
\acrodef{TEE}{trusted execution environment}
\acrodef{PUP}{potentially unwanted program}
\acrodef{PII}{personally identifiable information}
\acrodef{BYOD}{Bring Your Own Device}
\acrodef{MDM}{Mobile Device Management}
\acrodef{VPP}{Volume Purchase Program}
\acrodef{ADB}{Android Debug Bridge}
\acrodef{MIG}{Management of Information Group}
\acrodef{IGC}{Integrated Governance Comitee}
\acrodef{CACPG}{Care and Clinical Policies Group}
\acrodef{HiMSS}{Health information and Management Systems Society}
\acrodef{CDD}{Compatibility Definition Document}
\acrodef{CTS}{Compatibility Test Suite}
\acrodef{PDA}{Personal Data Assistant}
\acrodef{HIPAA}{Health Insurance Portability and Accountability Act}
\acrodef{RBAC}{Role Based Access Control}
\acrodef{CWA}{Closed World Assumption}
\acrodef{IDB}{Intentional Database}
\acrodef{EDB}{Extensional Database}
\acrodef{IoT}{Internet of Things}

% Mathy versions
\newcommand{\secpalmath}[1]{\ensuremath\texttt{#1}}
\newcommand{\AC}[0]{\ensuremath\text{AC}}
\newcommand{\says}[1]{\ensuremath~\secpalmath{says}^{\new{#1}}~}
\newcommand{\canSay}[1]{\secpalmath{can-say}_{#1}}
\newcommand{\canActAs}[0]{\secpalmath{can-act-as}}
\newcommand{\spif}[0]{\secpalmath{if}}
\newcommand{\where}[0]{\secpalmath{where}}

% For talking about the RT langs
\newcommand{\RT}[2]{RT\textsubscript{#1}\textsuperscript{#2}}

\includepackage{graphicx}
\newcommand{\rb}[1]{\rotatebox{90}{#1}}
\includepackage[update,prepend]{epstopdf}

\PassOptionsToPackage{hyphens}{url}
\includepackage[hidelinks]{hyperref}
\renewcommand*{\equationautorefname}{Equation}
\renewcommand*{\footnoteautorefname}{Footnote}
\renewcommand*{\itemautorefname}{Item}
\renewcommand*{\figureautorefname}{Figure}
\renewcommand*{\tableautorefname}{Table}
\renewcommand*{\partautorefname}{Part}
\renewcommand*{\appendixautorefname}{Appendix}
\renewcommand*{\chapterautorefname}{Chapter}
\renewcommand*{\sectionautorefname}{Section}
\renewcommand*{\subsectionautorefname}{Subsection}
\renewcommand*{\subsubsectionautorefname}{Subsubsection}
\renewcommand*{\paragraphautorefname}{Paragraph}
\renewcommand*{\subparagraphautorefname}{Subparagraph}
\renewcommand*{\FancyVerbLineautorefname}{Line}
\renewcommand*{\theoremautorefname}{Theorem}
\renewcommand*{\pageautorefname}{Page}

\includepackage{mathtools}
\includepackage{pxfonts}
\includepackage{multicol}
\includepackage{multirow}
\includepackage{longtable}
\includepackage{afterpage}
\includepackage{proof}
\includepackage{pdfpages}
% \includepackage{syntax}
\includepackage{booktabs}
\includepackage{tabulary}
\includepackage{subfig}
\includepackage{import}

\includepackage{pifont}
\newcommand{\xmark}{\ding{55}}
\newcommand{\cmark}{\ding{51}}%

\newcommand{\etal}[0]{et~al{.}\@}

\includepackage{mdframed}
\mdfdefinestyle{supertight}{%
  leftmargin=0pt,
  rightmargin=0pt,
  skipabove=1em,
  skipbelow=1em,
  innerleftmargin=2pt,
  innerrightmargin=2pt,
  innertopmargin=2pt,
  innerbottommargin=2pt,
}
\newenvironment{policyrule}[1]{%
  \begin{mdframed}[]
    \noindent\textbf{\sffamily #1}:~\itshape%
  }{%
  \end{mdframed}
}

\includepackage[boxed,noend,noline]{algorithm2e}
\DontPrintSemicolon
\SetKwProg{Fn}{}{\string:}{}
\SetKwIF{If}{ElseIf}{Else}{if}{:}{elif}{else:}{}
\SetKwFunction{FnEvaluate}{Evaluate}
\SetKwFunction{FnContains}{Contains}
\SetKwFunction{FnCheckConstraint}{CheckConstraint}
\SetKwFunction{FnCheckBody}{CheckBody}
\SetKwFunction{FnGet}{Get}
\SetKwFunction{FnSet}{Set}
\SetKwFunction{FnCond}{Cond}
\SetKwFunction{FnConstraint}{Constraint}
\SetKwFunction{FnCanSay}{CanSay}
\SetKwFunction{FnCanActAs}{CanActAs}
\SetKwFunction{FnCanSayCanActAs}{CanSay-CanActAs}
\SetKwFunction{FnValid}{IsValid?}
\SetKwFunction{FnVarSubs}{PossibleVariableSubstitutions}
\SetKwFunction{FnAssertions}{Assertions}
\SetKwFunction{FnConstants}{Constants}
\SetKwFunction{FnSpeakers}{Speakers}
\SetKwFunction{FnSubjects}{Subjects}
\SetKwFunction{FnConstants}{Constants}
\SetKwFunction{FnUnify}{Unify}
\SetKwFunction{FnHead}{Head}
\SetKwFunction{FnType}{Type}
\SetKwFunction{FnApply}{Apply}
\SetKwFunction{FnBody}{Body}
\SetKwFunction{FnVariables}{Variables}

%% Sectioning commands
% \newcommand{\frontmatter}[0]{}
% \newcommand{\mainmatter}[0]{}

% Tufte-latex compatibility
%\renewenvironment{figure*}{\begin{figure}\centering}{\end{figure}}
%\newenvironment{marginfigure}{\begin{figure}\centering}{\end{figure}}
%\renewenvironment{table*}{\begin{table}\centering}{\end{table}}
%\newenvironment{margintable}{\begin{table}\centering}{\end{table}}


% Nicer typography
\includepackage{microtype}

% Saner lists
\includepackage{enumerate}

% Rotate stuff
\includepackage{rotating}

% Gantt charts
% \includepackage{pgfgantt}

% Import files from a directory (useful for figures)
% \includepackage{import}

% Source code listings
\includepackage{listings}
\lstdefinelanguage{AppPAL}{%
  morekeywords={if,inf,says,where,true,false,with,is},
  otherkeywords={can-act-as,can-say},
  sensitive=true,
  morestring=[b]',
  literate={\ inf\ }{{$\infty$}}5
}[keywords,strings]
\lstset{%
  basicstyle=\ttfamily\footnotesize,
  keywordstyle=\ttfamily\slshape,
  stringstyle=\sffamily,
  columns=flexible,
  mathescape,
  frame=single,
  tabsize=2,
  showstringspaces=true,
  % numbers=left,
  breaklines=true,
  numberstyle=\tiny\ttfamily\color{Gray},
  commentstyle=\ttfamily\color{Gray}
}
\newcommand{\code}[2][]{\lstinline[breaklines=true, #1]{#2}}
% Autoref line numebers
\providecommand*{\lstnumberautorefname}{line}
% SecPAL
\lstdefinelanguage{apppal}{%
  morekeywords={says,if,where,False,True},%
  otherkeywords={=,0,inf,can-say,can-act-as},%
  morestring=[b]"%
}[keywords,comments,strings]
\lstset{language=apppal}


% PDF including
% \includepackage{pdfpages}

% Full references
% \includepackage{natbib}
% \includepackage{bibentry}
% \nobibliography*

% Timelines
\includepackage{chronology}

% Cross references
\usepackage[capitalise,noabbrev]{cleveref}
\renewcommand{\autoref}[1]{\cref{#1}}

% stacking
\includepackage{stackengine}
